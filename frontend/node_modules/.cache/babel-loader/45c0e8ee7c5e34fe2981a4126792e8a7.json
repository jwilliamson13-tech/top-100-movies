{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Josh\\\\Desktop\\\\top-100-movies\\\\top-100-movies\\\\frontend\\\\src\\\\components\\\\profile.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext, useCallback } from \"react\";\nimport { Link, useParams } from \"react-router-dom\";\nimport MovieCard from \"../components/movieCard\";\nimport DataService from \"../services/dataService\";\nimport AuthService from \"../services/authService\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport { UserContext } from \"../context/UserContext\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Profile = props => {\n  _s();\n\n  const [userContext, setUserContext] = useContext(UserContext);\n  const [movies, setMovies] = useState([]);\n  const params = useParams();\n  const userId = params.userId;\n  var accessToken; //Add this to anywhere you need the user's details\n\n  const fetchUserDetails = useCallback(() => {\n    fetch(\"http://localhost:3000/users/user\", {\n      method: \"GET\",\n      credentials: \"include\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${userContext.token}`\n      }\n    }).then(async response => {\n      if (response.ok) {\n        const data = await response.json();\n        setUserContext(oldUserValues => {\n          return { ...oldUserValues,\n            details: data\n          };\n        });\n      } else {\n        if (response.status === 401) {\n          console.log(\"RIP\"); //window.location.reload()\n        } else {\n          setUserContext(oldUserValues => {\n            return { ...oldUserValues,\n              details: null\n            };\n          });\n        }\n      }\n    });\n  }, [setUserContext, userContext.token]);\n  useEffect(() => {\n    if (!userContext.details) {\n      fetchUserDetails();\n    }\n  }, [userContext.details, fetchUserDetails]);\n  /*\r\n  const getUser = (userId) => {\r\n    DataService.getUser(userId)\r\n    .then(response => {\r\n      console.log(response.data);\r\n      setUser(response.data); //Gonna have to change this to match data received\r\n      console.log(user);\r\n    })\r\n  }\r\n  */\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-3\",\n    children: [userContext.details, /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-lg-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card\",\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"https://external-content.duckduckgo.com/iu/?u=http%3A%2F%2Fwww.baytekent.com%2Fwp-content%2Fuploads%2F2016%2F12%2Ffacebook-default-no-profile-pic1.jpg&f=1&nofb=1\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-primary text-center\",\n            type: \"button\",\n            children: \"Follow\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-lg-4 align-self-top\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-lg-4 align-self-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-center\",\n          children: \"FAVORITE MOVIE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MovieCard, {\n          movie: {\n            \"name\": \"Toy Story\",\n            \"description\": \"Girls are mean. I don't know what you expected\",\n            \"image\": \"https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Ftse1.mm.bing.net%2Fth%3Fid%3DOIP.3hjDZEpqqvZeK_oVfbkh-gHaMx%26pid%3DApi&f=1\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-center\",\n        children: \"Top 100 Movies\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row pt-3 pb-3 justify-content-center\",\n        children: [/*#__PURE__*/_jsxDEV(MovieCard, {\n          movie: {\n            \"name\": \"Mean Girls\",\n            \"description\": \"Girls are mean. I don't know what you expected.\",\n            \"image\": \"https://image.tmdb.org/t/p/w185/fXm3YKXAEjx7d2tIWDg9TfRZtsU.jpg\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MovieCard, {\n          movie: {\n            \"name\": \"Toy Story\",\n            \"description\": \"Toys do some crazy shit on this wild ass adventure. Be prepared to be scared because the neighbor kid is batshit, and you'll think your own toys may come to life to kill you one day. Pick up your phobia of dolls and toys with eyes now!!!\",\n            \"image\": \"https://image.tmdb.org/t/p/w185/uXDfjJbdP4ijW5hWSBrPrlKpxab.jpg\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(MovieCard, {\n          movie: {\n            \"name\": \"Mean Girls\",\n            \"description\": \"Girls are mean. I don't know what you expected.\",\n            \"image\": \"https://image.tmdb.org/t/p/w185/xj3jhyq3ZsfdVn79kXC1XKFVQlv.jpg\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Profile, \"UinAGcCoOlXjd0Qm2sTQuNBtvL0=\", false, function () {\n  return [useParams];\n});\n\n_c = Profile;\nexport default Profile;\n\nvar _c;\n\n$RefreshReg$(_c, \"Profile\");","map":{"version":3,"sources":["C:/Users/Josh/Desktop/top-100-movies/top-100-movies/frontend/src/components/profile.js"],"names":["React","useState","useEffect","useContext","useCallback","Link","useParams","MovieCard","DataService","AuthService","useAuth0","UserContext","Profile","props","userContext","setUserContext","movies","setMovies","params","userId","accessToken","fetchUserDetails","fetch","method","credentials","headers","Authorization","token","then","response","ok","data","json","oldUserValues","details","status","console","log"],"mappings":"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","sourcesContent":["import React, { useState,useEffect, useContext, useCallback } from \"react\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport MovieCard from \"../components/movieCard\";\r\nimport DataService from \"../services/dataService\";\r\nimport AuthService from \"../services/authService\";\r\nimport { useAuth0 } from \"@auth0/auth0-react\";\r\nimport { UserContext } from \"../context/UserContext\";\r\n\r\nconst Profile = props => {\r\n  const [userContext, setUserContext] = useContext(UserContext);\r\n  const [movies, setMovies] = useState([]);\r\n\r\n  const params = useParams();\r\n\r\n  const userId = params.userId;\r\n\r\n  var accessToken;\r\n\r\n  //Add this to anywhere you need the user's details\r\n  const fetchUserDetails = useCallback(() => {\r\n    fetch(\"http://localhost:3000/users/user\", {\r\n      method:\"GET\",\r\n      credentials:\"include\",\r\n      headers: {\r\n        \"Content-Type\":\"application/json\",\r\n        Authorization: `Bearer ${userContext.token}`\r\n      }\r\n    })\r\n    .then(async response =>{\r\n      if(response.ok){\r\n        const data = await response.json();\r\n        setUserContext(oldUserValues => {\r\n          return {...oldUserValues, details:data};\r\n        });\r\n      }\r\n      else{\r\n        if(response.status === 401){\r\n          console.log(\"RIP\");\r\n          //window.location.reload()\r\n        }\r\n        else{\r\n          setUserContext(oldUserValues => {\r\n            return {...oldUserValues, details:null};\r\n          });\r\n        }\r\n      }\r\n    })\r\n  }, [setUserContext, userContext.token]);\r\n\r\n\r\n  useEffect(()=>{\r\n    if (!userContext.details) {\r\n      fetchUserDetails()\r\n    }\r\n  }, [userContext.details, fetchUserDetails]);\r\n\r\n\r\n\r\n\r\n  /*\r\n  const getUser = (userId) => {\r\n    DataService.getUser(userId)\r\n    .then(response => {\r\n      console.log(response.data);\r\n      setUser(response.data); //Gonna have to change this to match data received\r\n      console.log(user);\r\n    })\r\n  }\r\n  */\r\n\r\n  return (\r\n    <div className=\"container mt-3\">\r\n    {userContext.details}\r\n      <div className=\"row\">\r\n        <div className=\"col-lg-4\">\r\n          <div className=\"card\">\r\n            <img src=\"https://external-content.duckduckgo.com/iu/?u=http%3A%2F%2Fwww.baytekent.com%2Fwp-content%2Fuploads%2F2016%2F12%2Ffacebook-default-no-profile-pic1.jpg&f=1&nofb=1\"/>\r\n            <button className=\"btn btn-primary text-center\" type=\"button\">Follow</button>\r\n          </div>\r\n        </div>\r\n        <div className=\"col-lg-4 align-self-top\">\r\n        </div>\r\n        <div className=\"col-lg-4 align-self-center\">\r\n          <h3 className=\"text-center\">FAVORITE MOVIE</h3>\r\n          <MovieCard movie={{\"name\":\"Toy Story\",\"description\":\"Girls are mean. I don't know what you expected\",\"image\":\"https://external-content.duckduckgo.com/iu/?u=https%3A%2F%2Ftse1.mm.bing.net%2Fth%3Fid%3DOIP.3hjDZEpqqvZeK_oVfbkh-gHaMx%26pid%3DApi&f=1\"}}/>\r\n        </div>\r\n      </div>\r\n      <div className=\"row\">\r\n        <h3 className=\"text-center\">Top 100 Movies</h3>\r\n        <div className=\"row pt-3 pb-3 justify-content-center\">\r\n\r\n          <MovieCard movie={{\"name\":\"Mean Girls\",\"description\":\"Girls are mean. I don't know what you expected.\",\"image\":\"https://image.tmdb.org/t/p/w185/fXm3YKXAEjx7d2tIWDg9TfRZtsU.jpg\"}}/>\r\n          <MovieCard movie={{\"name\":\"Toy Story\",\"description\":\"Toys do some crazy shit on this wild ass adventure. Be prepared to be scared because the neighbor kid is batshit, and you'll think your own toys may come to life to kill you one day. Pick up your phobia of dolls and toys with eyes now!!!\",\"image\":\"https://image.tmdb.org/t/p/w185/uXDfjJbdP4ijW5hWSBrPrlKpxab.jpg\"}}/>\r\n          <MovieCard movie={{\"name\":\"Mean Girls\",\"description\":\"Girls are mean. I don't know what you expected.\",\"image\":\"https://image.tmdb.org/t/p/w185/xj3jhyq3ZsfdVn79kXC1XKFVQlv.jpg\"}}/>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n"]},"metadata":{},"sourceType":"module"}