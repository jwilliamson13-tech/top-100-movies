{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Josh\\\\Desktop\\\\top-100-movies\\\\top-100-movies\\\\frontend\\\\src\\\\components\\\\profiles.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport DataService from \"../services/userDataService\";\nimport ProfileCard from \"./profileCard\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Profiles = props => {\n  _s();\n\n  const [profiles, setProfiles] = useState([]);\n  const [searchName, setSearchName] = useState(\"\");\n  useEffect(() => {\n    retrieveUsers();\n  }, []);\n\n  const onChangeSearchName = e => {\n    const searchName = e.target.value;\n    setSearchName(searchName);\n  };\n\n  const retrieveUsers = () => {\n    DataService.getUsers().then(response => {\n      setProfiles(response.data); //Gonna have to change this to match data received\n    });\n  };\n\n  const retrieveUser = searchName => {\n    //Do this to reset currentFilter\n    retrieveUsers();\n\n    if (searchName.length == 0) {\n      retrieveUsers();\n    } else {\n      var filteredUsers = profiles.filter(user => user.email.toLowerCase().includes(searchName.toLowerCase()));\n      setProfiles(filteredUsers);\n    }\n  }; //Setup search bar working on enter press\n\n\n  function keyHandler(e) {\n    if (e.code == \"Enter\") {\n      retrieveUser(searchName);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container pr-5 pl-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-center\",\n      children: \"Search for Profiles\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row pb-1\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"input-group col-lg-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"form-control\",\n          placeholder: \"Search by name\",\n          value: searchName,\n          onChange: onChangeSearchName,\n          onKeyUp: keyHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"input-group-append\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn btn-outline-secondary\",\n            type: \"button\",\n            onClick: () => retrieveUser(searchName) //Need to add on click event and state event here\n            ,\n            children: \"Search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row pt-3 pb-3 justify-content-center\",\n      children: profiles.map(currentProfile => {\n        console.log(\"PROFILE\");\n        console.log(currentProfile.favorite_movies);\n        var favorite_movie = \"\";\n\n        if (Object.entries(currentProfile.favorite_movies).length > 0) {\n          var movieKeys = Object.keys(currentProfile.favorite_movies).sort();\n          favorite_movie = currentProfile.favorite_movies[movieKeys[0]].original_title; //Have to change this if using a map\n        } else {\n          favorite_movie = \"NONE\";\n        }\n\n        return /*#__PURE__*/_jsxDEV(ProfileCard, {\n          profile: {\n            \"email\": currentProfile.email,\n            \"favorite_movies_length\": Object.entries(currentProfile.favorite_movies).length,\n            \"favorite_movie\": favorite_movie,\n            \"_id\": currentProfile._id\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 15\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n};\n/*\r\n{\r\n  movies.map(currentMovie => {\r\n    var movieImage = currentMovie.poster_path ? \"https://image.tmdb.org/t/p/w185/\" + currentMovie.poster_path : \"./NoMovieImage.jpg\"\r\n    return(\r\n      <MovieCard movie={{\"name\":currentMovie.original_title, \"description\":currentMovie.overview, \"image\":movieImage}}/>\r\n    )\r\n  })\r\n}\r\n*/\n//{movies.map((movies) =>{\n//<MovieCard movie={{\"name\":\"Mean Girls\",\"description\":\"Girls are mean. I don't know what you expected.\",\"image\":\"https://image.tmdb.org/t/p/w185/fXm3YKXAEjx7d2tIWDg9TfRZtsU.jpg\"}}/>\n//<MovieCard movie={{\"name\":\"Toy Story\",\"description\":\"Toys do some crazy shit on this wild ass adventure. Be prepared to be scared because the neighbor kid is batshit, and you'll think your own toys may come to life to kill you one day. Pick up your phobia of dolls and toys with eyes now!!!\",\"image\":\"https://image.tmdb.org/t/p/w185/uXDfjJbdP4ijW5hWSBrPrlKpxab.jpg\"}}/>\n//<MovieCard movie={{\"name\":\"Mean Girls\",\"description\":\"Girls are mean. I don't know what you expected.\",\"image\":\"https://image.tmdb.org/t/p/w185/xj3jhyq3ZsfdVn79kXC1XKFVQlv.jpg\"}}/>\n//}};\n\n\n_s(Profiles, \"ijuAq/CMPavnSogpLrLkdipuq24=\");\n\n_c = Profiles;\nexport default Profiles;\n\nvar _c;\n\n$RefreshReg$(_c, \"Profiles\");","map":{"version":3,"sources":["C:/Users/Josh/Desktop/top-100-movies/top-100-movies/frontend/src/components/profiles.js"],"names":["React","useState","useEffect","Link","DataService","ProfileCard","Profiles","props","profiles","setProfiles","searchName","setSearchName","retrieveUsers","onChangeSearchName","e","target","value","getUsers","then","response","data","retrieveUser","length","filteredUsers","filter","user","email","toLowerCase","includes","keyHandler","code","map","currentProfile","console","log","favorite_movies","favorite_movie","Object","entries","movieKeys","keys","sort","original_title","_id"],"mappings":"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","sourcesContent":["import React, { useState,useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport DataService from \"../services/userDataService\";\r\nimport ProfileCard from \"./profileCard\"\r\n\r\nconst Profiles = props => {\r\n\r\n  const [profiles, setProfiles] = useState([]);\r\n  const [searchName, setSearchName ] = useState(\"\");\r\n\r\n  useEffect(()=>{\r\n      retrieveUsers();\r\n    }, []);\r\n\r\n  const onChangeSearchName = e => {\r\n      const searchName = e.target.value;\r\n      setSearchName(searchName);\r\n  };\r\n\r\n  const retrieveUsers = () => {\r\n      DataService.getUsers()\r\n      .then(response => {\r\n        setProfiles(response.data); //Gonna have to change this to match data received\r\n      })\r\n    };\r\n\r\n  const retrieveUser = (searchName) => {\r\n    //Do this to reset currentFilter\r\n    retrieveUsers();\r\n    if(searchName.length == 0){\r\n      retrieveUsers();\r\n    }\r\n    else{\r\n      var filteredUsers = profiles.filter(user => user.email.toLowerCase().includes(searchName.toLowerCase()));\r\n      setProfiles(filteredUsers);\r\n    }\r\n  };\r\n\r\n  //Setup search bar working on enter press\r\n  function keyHandler(e){\r\n    if(e.code == \"Enter\"){\r\n\r\n      retrieveUser(searchName);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"container pr-5 pl-5\">\r\n      <h1 className=\"text-center\">Search for Profiles</h1>\r\n      <div className=\"row pb-1\">\r\n        <div className=\"input-group col-lg-4\">\r\n          <input\r\n            type=\"text\"\r\n            className=\"form-control\"\r\n            placeholder=\"Search by name\"\r\n            value={searchName}\r\n            onChange={onChangeSearchName}\r\n            onKeyUp={keyHandler}\r\n          />\r\n          <div className=\"input-group-append\">\r\n            <button\r\n              className=\"btn btn-outline-secondary\"\r\n              type=\"button\"\r\n              onClick={() => retrieveUser(searchName)}\r\n              //Need to add on click event and state event here\r\n            >\r\n              Search\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className=\"row pt-3 pb-3 justify-content-center\">\r\n        {\r\n          profiles.map(currentProfile => {\r\n            console.log(\"PROFILE\");\r\n            console.log(currentProfile.favorite_movies);\r\n            var favorite_movie = \"\";\r\n            if(Object.entries(currentProfile.favorite_movies).length > 0){\r\n              var movieKeys = Object.keys(currentProfile.favorite_movies).sort();\r\n              favorite_movie = currentProfile.favorite_movies[movieKeys[0]].original_title //Have to change this if using a map\r\n            }\r\n            else{\r\n              favorite_movie = \"NONE\"\r\n            }\r\n            return(\r\n              <ProfileCard profile={{\"email\":currentProfile.email, \"favorite_movies_length\":Object.entries(currentProfile.favorite_movies).length, \"favorite_movie\":favorite_movie, \"_id\":currentProfile._id}}/>\r\n            )\r\n          })\r\n        }\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\n/*\r\n{\r\n  movies.map(currentMovie => {\r\n    var movieImage = currentMovie.poster_path ? \"https://image.tmdb.org/t/p/w185/\" + currentMovie.poster_path : \"./NoMovieImage.jpg\"\r\n    return(\r\n      <MovieCard movie={{\"name\":currentMovie.original_title, \"description\":currentMovie.overview, \"image\":movieImage}}/>\r\n    )\r\n  })\r\n}\r\n*/\r\n//{movies.map((movies) =>{\r\n//<MovieCard movie={{\"name\":\"Mean Girls\",\"description\":\"Girls are mean. I don't know what you expected.\",\"image\":\"https://image.tmdb.org/t/p/w185/fXm3YKXAEjx7d2tIWDg9TfRZtsU.jpg\"}}/>\r\n//<MovieCard movie={{\"name\":\"Toy Story\",\"description\":\"Toys do some crazy shit on this wild ass adventure. Be prepared to be scared because the neighbor kid is batshit, and you'll think your own toys may come to life to kill you one day. Pick up your phobia of dolls and toys with eyes now!!!\",\"image\":\"https://image.tmdb.org/t/p/w185/uXDfjJbdP4ijW5hWSBrPrlKpxab.jpg\"}}/>\r\n//<MovieCard movie={{\"name\":\"Mean Girls\",\"description\":\"Girls are mean. I don't know what you expected.\",\"image\":\"https://image.tmdb.org/t/p/w185/xj3jhyq3ZsfdVn79kXC1XKFVQlv.jpg\"}}/>\r\n//}};\r\n\r\nexport default Profiles;\r\n"]},"metadata":{},"sourceType":"module"}