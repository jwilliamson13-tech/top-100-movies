{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Josh\\\\Desktop\\\\top-100-movies\\\\top-100-movies\\\\frontend\\\\src\\\\components\\\\logout.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect, useContext } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport AuthDataService from \"../services/authService\";\nimport { useAuth0 } from \"@auth0/auth0-react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Logout = () => {\n  _s();\n\n  const [userContext, setUserContext] = useContext(UserContext);\n\n  const logoutHandler = () => {\n    fetch(\"http://localhost:3000/users/logout\", {\n      credentials: \"include\",\n      headers: {\n        \"Content-Type\": \"application-json\",\n        Authorization: `Bearer ${userContext.token}`\n      }\n    }).then(async response => {\n      setUserContext(oldUserValues => {\n        return { ...oldUserValues,\n          details: undefined,\n          token: null\n        };\n      });\n    });\n  };\n\n  useEffect(() => {\n    logoutHandler();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"LOGOUT\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 30,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Logout, \"Q3Z3/S9TrCVs0RrRiN54najWo0c=\");\n\n_c = Logout;\nexport default Logout;\n\nvar _c;\n\n$RefreshReg$(_c, \"Logout\");","map":{"version":3,"sources":["C:/Users/Josh/Desktop/top-100-movies/top-100-movies/frontend/src/components/logout.js"],"names":["React","useState","useEffect","useContext","Link","AuthDataService","useAuth0","Logout","userContext","setUserContext","UserContext","logoutHandler","fetch","credentials","headers","Authorization","token","then","response","oldUserValues","details","undefined"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAAyBC,SAAzB,EAAoCC,UAApC,QAAsD,OAAtD;AACA,SAASC,IAAT,QAAqB,kBAArB;AACA,OAAOC,eAAP,MAA4B,yBAA5B;AACA,SAASC,QAAT,QAAyB,oBAAzB;;;AAEA,MAAMC,MAAM,GAAG,MAAM;AAAA;;AAEnB,QAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCN,UAAU,CAACO,WAAD,CAAhD;;AAEA,QAAMC,aAAa,GAAG,MAAM;AAC1BC,IAAAA,KAAK,CAAC,oCAAD,EAAuC;AAC1CC,MAAAA,WAAW,EAAE,SAD6B;AAE1CC,MAAAA,OAAO,EAAE;AACP,wBAAgB,kBADT;AAEPC,QAAAA,aAAa,EAAG,UAASP,WAAW,CAACQ,KAAM;AAFpC;AAFiC,KAAvC,CAAL,CAOCC,IAPD,CAOM,MAAMC,QAAN,IAAkB;AACtBT,MAAAA,cAAc,CAACU,aAAa,IAAI;AAC9B,eAAO,EAAC,GAAGA,aAAJ;AAAmBC,UAAAA,OAAO,EAAEC,SAA5B;AAAuCL,UAAAA,KAAK,EAAE;AAA9C,SAAP;AACD,OAFa,CAAd;AAGD,KAXD;AAYD,GAbD;;AAeAd,EAAAA,SAAS,CAAC,MAAI;AACZS,IAAAA,aAAa;AACd,GAFQ,EAEN,EAFM,CAAT;AAIA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAMD,CA7BD;;GAAMJ,M;;KAAAA,M;AA+BN,eAAeA,MAAf","sourcesContent":["import React, { useState,useEffect, useContext } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport AuthDataService from \"../services/authService\";\r\nimport { useAuth0 } from \"@auth0/auth0-react\";\r\n\r\nconst Logout = () => {\r\n\r\n  const [userContext, setUserContext] = useContext(UserContext);\r\n\r\n  const logoutHandler = () => {\r\n    fetch(\"http://localhost:3000/users/logout\", {\r\n      credentials: \"include\",\r\n      headers: {\r\n        \"Content-Type\": \"application-json\",\r\n        Authorization: `Bearer ${userContext.token}`\r\n      }\r\n    })\r\n    .then(async response => {\r\n      setUserContext(oldUserValues => {\r\n        return {...oldUserValues, details: undefined, token: null};\r\n      });\r\n    })\r\n  }\r\n\r\n  useEffect(()=>{\r\n    logoutHandler();\r\n  }, []);\r\n\r\n  return(\r\n    <div>\r\n      LOGOUT\r\n    </div>\r\n  )\r\n\r\n};\r\n\r\nexport default Logout;\r\n"]},"metadata":{},"sourceType":"module"}